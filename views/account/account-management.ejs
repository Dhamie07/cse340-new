<div class="container mx-auto p-4 max-w-lg">
<h1 class="text-3xl font-bold mb-6 text-gray-800">Account Management</h1>

<!-- Message Processing Block: Safely extract all flash messages into a single array -->

<%
let allMessages = [];
if (typeof messages === 'object' && messages !== null) {
// Iterate over keys (e.g., 'success', 'error') and flatten the arrays within them.
Object.keys(messages).forEach(key => {
if (Array.isArray(messages[key])) {
allMessages = allMessages.concat(messages[key]);
}
});
}
%>

<!-- Display Flash Messages (e.g., success message from login) -->

<% if (allMessages.length > 0) { %>
<% allMessages.forEach(message => { %>
<!-- Using green styling for all flash messages -->
<div class="p-3 mb-4 rounded-lg bg-green-100 border border-green-400 text-green-700" role="alert">
<p><%= message %></p>
</div>
<% }); %>
<% } %>

<!-- Display Validation Errors -->

<% if (errors && errors.length > 0) { %>

<div class="p-3 mb-4 rounded-lg bg-red-100 border border-red-400 text-red-700" role="alert">
<h3 class="font-semibold mb-2">Errors:</h3>
<ul>
<% errors.forEach(error => { %>
<li><%= error.msg %></li>
<% }); %>
</ul>
</div>
<% } %>

<!-- Main Content -->

<div class="p-8 bg-white shadow-xl rounded-xl border border-gray-200">
<p class="text-xl text-center font-medium text-indigo-600">
You're logged in
</p>
</div>

</div>