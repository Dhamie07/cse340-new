<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title><%= title %></title>
    <link rel="stylesheet" href="/css/styles.css" />
    <link rel="stylesheet" href="/css/account.css" />
  </head>
  <body>
    <div class="login-container">
      <h1><%= title %></h1>
      <p>All fields are <span class="required">*</span> required.</p>

      <% if (messages && messages.error) { %>
      <div class="flash-message"><%= messages.error %></div>
      <% } %>

      <% if (errors) { %>
      <ul class="notice">
        <% errors.array().forEach(error => { %>
        <li><%= error.msg %></li>
        <% }) %>
      </ul>
      <% } %>

      <form action="/account/register" method="post">
        <label for="accountFirstname"
          >First Name: <span class="required">*</span></label
        >
        <input
          type="text"
          name="account_firstname"
          id="accountFirstname"
          required
          value="<%= locals.account_firstname %>"
        />

        <label for="accountLastname"
          >Last Name: <span class="required">*</span></label
        >
        <input
          type="text"
          name="account_lastname"
          id="accountLastname"
          required
          value="<%= locals.account_lastname %>"
        />

        <label for="accountEmail"
          >Email: <span class="required">*</span></label
        >
        <input
          type="email"
          name="account_email"
          id="accountEmail"
          required
          value="<%= locals.account_email %>"
        />

        <label for="account_password">
          Password: <span class="required">*</span>
          <span class="password-requirements">
            Must be at least 12 characters, include 1 capital letter, 1 number,
            and 1 special character.
          </span>
        </label>
        <input
          type="password"
          id="account_password"
          name="account_password"
          required
          minlength="12"
          autocomplete="new-password"
        />
        <button
          type="button"
          class="toggle-password"
          onclick="togglePassword()"
        >
          Show/Hide Password
        </button>

        <button type="submit">Register</button>
      </form>
    </div>
    <script>
      function togglePassword() {
        const pwd = document.getElementById("account_password");
        pwd.type = pwd.type === "password" ? "text" : "password";
      }
    </script>
  </body>
</html>